<!DOCTYPE html>
<html>
<head>
  <title>Team Members</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>


  <h1>LIGHTHOUSE</h1>
  <h3>september</h3>

  <div id="team-members">
   
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>
   <div class="member">
     <div class="name"></div>
   </div>

  </div>

  <div id="biography">

  </div>

<script>
  
"use strict";

document.addEventListener('click',function(e){
  var file = window.getComputedStyle(e.target).getPropertyValue('background-image');
  console.log(get_name(file));
},false);

function get_name(str){
  var reg = new RegExp(/^url\(.+\/(\w+)\_(\w+).jpg\)/);
  var name = str.replace(reg, "$1 $2");
  return name;
};

var members = document.querySelectorAll('.member');

var names = [];
names.forEach.call(members,function (member,index){
  var file = window.getComputedStyle(member).getPropertyValue('background-image');
  member.querySelector('.name').innerText = get_name(file)
  names.push(get_name(file));
});

</script>


</body>
</html>

